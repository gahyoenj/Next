## 스트리밍

### 스트리밍이란?

- 서버에서 클라이언트로 어떤 data를 보내줘야할때 data가 너무 크거나 오래 걸릴거같을 때 데이터를 잘게 쪼개서 보내는 기술
- 잘게 쪼개진 데이터를 연속적으로 보내주는 기술
- 모든 데이터가 불러와지지 않아도 지금까지 전달받은 데이터에 접근 가능하므로 긴 로딩 없이 좋은 사용자 경험 제공 가능
- next는 자체적으로 스트리밍 기능 제공
- 단순한 컴포넌트부터 먼저 보여주고 데이터가 오래걸릴거같은 컴포넌트는 로딩바 같은 대체 UI를 보여줌
- 아무리 오래 걸리는 데이터가 있다 하더라도 스트리밍을 이용하면 일단 뭐라도 빠르게 보여줄 수 있음

#### 다이나믹 페이지에서 스트리밍 자주 사용!

=> 다이나믹 페이지는 그때그때마다 실행해서 페이지를 새롭게 보여줘야하기 때문에 데이터 페칭이 너무 오래 걸리면 전체 페이지의 응답이 늦어지게 되는 문제점 발생
=> 스트리밍 사용하게 되면 일단 빠르게 오래 걸리지 않는 컴포넌트들만 빠르게 렌더링

- loading.tsx
  - loading.tsx 만들어주면 그 파일과 동일한 경로에 있는 페이지 컴포넌트를 스트리밍 되도록 설정해줘 loading.tsx를 대체 UI로 보여줌
  - 해당하는 경로의 아래 있는 폴더들에도 적용이 됨...
  - async가 붙어서 비동기로 작동하도록 설정된 페이지 컴포넌트에만 스트리밍 제공함
  - 페이지 컴포넌트에만 스트리밍 적용 가능
  - 브라우저에서 쿼리 스트리밍이 변경될때에는 스트리밍이 적용되지 않음 (경로 자체가 바껴야 스트리밍 작동)

<br>

- suspense 컴포넌트
  - key 값 다르게 하면 suspense 컴포넌트 자체를 새롭게 그림
  - 따라서 쿼리 스트리밍이 변경 될 때에도 스트리밍 적용됨
  - 하나의 페이지 내에서 여러개의 비동기 컴포넌트를 동시 다발적으로 스트리밍 적용 가능!

### 스켈레톤 UI

- 뼈대 역할을 하는 UI
